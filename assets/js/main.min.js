"use strict";
/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var n,u,t,i,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function s(e,t){for(var n in t)e[n]=t[n];return e}function a(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var o,r,i,l,a=arguments;if(t=s({},t),arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===t[r]&&(t[r]=e.defaultProps[r]);return l=t.key,null!=(i=t.ref)&&delete t.ref,null!=l&&delete t.key,v(e,t,l,i)}function v(e,t,o,r){var i={type:e,props:t,key:o,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return n.vnode&&n.vnode(i),i}function d(e){return e.children}function y(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return v(null,e,null,null);if(null!=e.__e||null!=e.__c){var t=v(e.type,e.props,e.key,null);return t.__e=e.__e,t}return e}function m(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__p?w(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function g(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return g(e)}}function k(e){(!e.__d&&(e.__d=!0)&&1===u.push(e)||i!==n.debounceRendering)&&(i=n.debounceRendering,(n.debounceRendering||t)(_))}function _(){var e,t,n,o,r,i,l,a;for(u.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=u.pop();)e.__d&&(n=void 0,o=void 0,i=(r=(t=e).__v).__e,l=t.__P,a=t.u,t.u=!1,l&&(n=[],o=$(l,r,s({},r),t.__n,void 0!==l.ownerSVGElement,null,n,a,null==i?w(r):i),j(n,r),o!=i&&g(r)))}function b(t,n,o,r,i,l,s,c,u){var d,h,g,p,v,m,E,_=o&&o.__k||e,b=_.length;if(c==f&&(c=null!=l?l[0]:b?w(o,0):null),d=0,n.__k=x(n.__k,(function(e){if(null!=e){if(e.__p=n,e.__b=n.__b+1,null===(g=_[d])||g&&e.key==g.key&&e.type===g.type)_[d]=void 0;else for(h=0;h<b;h++){if((g=_[h])&&e.key==g.key&&e.type===g.type){_[h]=void 0;break}g=null}if(p=$(t,e,g=g||f,r,i,l,s,null,c,u),(h=e.ref)&&g.ref!=h&&(E||(E=[])).push(h,e.__c||p,e),null!=p){if(null==m&&(m=p),null!=e.l)p=e.l,e.l=null;else if(l==g||p!=c||null==p.parentNode){e:if(null==c||c.parentNode!==t)t.appendChild(p);else{for(v=c,h=0;(v=v.nextSibling)&&h<b;h+=2)if(v==p)break e;t.insertBefore(p,c)}"option"==n.type&&(t.value="")}c=p.nextSibling,"function"==typeof n.type&&(n.l=p)}}return d++,e})),n.__e=m,null!=l&&"function"!=typeof n.type)for(d=l.length;d--;)null!=l[d]&&a(l[d]);for(d=b;d--;)null!=_[d]&&D(_[d],_[d]);if(E)for(d=0;d<E.length;d++)A(E[d],E[++d],E[++d])}function x(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var o=0;o<e.length;o++)x(e[o],t,n);else n.push(t?t(y(e)):e);return n}function C(e,t,n,o,r){var i;for(i in n)i in t||N(e,i,null,n[i],o);for(i in t)r&&"function"!=typeof t[i]||"value"===i||"checked"===i||n[i]===t[i]||N(e,i,t[i],n[i],o)}function P(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===c.test(t)?n+"px":null==n?"":n}function N(e,t,n,o,r){var i,l,a,s,c;if("key"===(t=r?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof o&&(i.cssText="",o=null),o)for(l in o)n&&l in n||P(i,l,"");if(n)for(a in n)o&&n[a]===o[a]||P(i,a,n[a])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),n?(o||e.addEventListener(t,T,s),(e.t||(e.t={}))[t]=n):e.removeEventListener(t,T,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&!r&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function T(e){return this.t[e.type](n.event?n.event(e):e)}function $(e,t,o,r,i,l,a,c,u,h){var g,p,f,v,E,_,S,y,w,I,C=t.type;if(void 0!==t.constructor)return null;(g=n.__b)&&g(t);try{e:if("function"==typeof C){if(y=t.props,w=(g=C.contextType)&&r[g.__c],I=g?w?w.props.value:g.__p:r,o.__c?S=(p=t.__c=o.__c).__p=p.__E:("prototype"in C&&C.prototype.render?t.__c=p=new C(y,I):(t.__c=p=new m(y,I),p.constructor=C,p.render=H),w&&w.sub(p),p.props=y,p.state||(p.state={}),p.context=I,p.__n=r,f=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=C.getDerivedStateFromProps&&s(p.__s==p.state?p.__s=s({},p.__s):p.__s,C.getDerivedStateFromProps(y,p.__s)),f)null==C.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&a.push(p);else{if(null==C.getDerivedStateFromProps&&null==c&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(y,I),!c&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(y,p.__s,I)){for(p.props=y,p.state=p.__s,p.__d=!1,p.__v=t,t.__e=null!=u?u!==o.__e?u:o.__e:null,t.__k=o.__k,g=0;g<t.__k.length;g++)t.__k[g]&&(t.__k[g].__p=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(y,p.__s,I)}for(v=p.props,E=p.state,p.context=I,p.props=y,p.state=p.__s,(g=n.__r)&&g(t),p.__d=!1,p.__v=t,p.__P=e,g=p.render(p.props,p.state,p.context),t.__k=x(null!=g&&g.type==d&&null==g.key?g.props.children:g),null!=p.getChildContext&&(r=s(s({},r),p.getChildContext())),f||null==p.getSnapshotBeforeUpdate||(_=p.getSnapshotBeforeUpdate(v,E)),b(e,t,o,r,i,l,a,u,h),p.base=t.__e;g=p.__h.pop();)p.__s&&(p.state=p.__s),g.call(p);f||null==v||null==p.componentDidUpdate||p.componentDidUpdate(v,E,_),S&&(p.__E=p.__p=null)}else t.__e=z(o.__e,t,o,r,i,l,a,h);(g=n.diffed)&&g(t)}catch(e){n.__e(e,t,o)}return t.__e}function j(e,t){for(var o;o=e.pop();)try{o.componentDidMount()}catch(e){n.__e(e,o.__v)}n.__c&&n.__c(t)}function z(t,n,o,r,i,l,a,s){var c,u,d,h,g=o.props,p=n.props;if(i="svg"===n.type||i,null==t&&null!=l)for(c=0;c<l.length;c++)if(null!=(u=l[c])&&(null===n.type?3===u.nodeType:u.localName===n.type)){t=u,l[c]=null;break}if(null==t){if(null===n.type)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",n.type):document.createElement(n.type),l=null}return null===n.type?g!==p&&(null!=l&&(l[l.indexOf(t)]=null),t.data=p):n!==o&&(null!=l&&(l=e.slice.call(t.childNodes)),d=(g=o.props||f).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,s||(h||d)&&(h&&d&&h.__html==d.__html||(t.innerHTML=h&&h.__html||"")),C(t,p,g,i,s),n.__k=n.props.children,h||b(t,n,o,r,"foreignObject"!==n.type&&i,l,a,f,s),s||("value"in p&&void 0!==p.value&&p.value!==t.value&&(t.value=null==p.value?"":p.value),"checked"in p&&void 0!==p.checked&&p.checked!==t.checked&&(t.checked=p.checked))),t}function A(e,t,o){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,o)}}function D(e,t,o){var r,i,l;if(n.unmount&&n.unmount(e),(r=e.ref)&&A(r,null,t),o||"function"==typeof e.type||(o=null!=(i=e.__e)),e.__e=e.l=null,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){n.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&D(r[l],t,o);null!=i&&a(i)}function H(e,t,n){return this.constructor(e,n)}function I(t,o,i){var l,a,s;n.__p&&n.__p(t,o),a=(l=i===r)?null:i&&i.__k||o.__k,t=h(d,null,[t]),s=[],$(o,l?o.__k=t:(i||o).__k=t,a||f,f,void 0!==o.ownerSVGElement,i&&!l?[i]:a?null:e.slice.call(o.childNodes),s,!1,i||f,l),j(s,t)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _extends$1(){return _extends$1=Object.assign||function(e){for(var t=arguments,n=1;n<arguments.length;n++){var o=t[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_extends$1.apply(this,arguments)}n={},m.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=s({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&s(n,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),k(this))},m.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,k(this))},m.prototype.render=d,u=[],t="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,i=n.debounceRendering,n.__e=function(e,t,n){for(var o;t=t.__p;)if((o=t.__c)&&!o.__p)try{if(o.constructor&&null!=o.constructor.getDerivedStateFromError)o.setState(o.constructor.getDerivedStateFromError(e));else{if(null==o.componentDidCatch)continue;o.componentDidCatch(e)}return k(o.__E=o)}catch(t){e=t}throw e},r=f;var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH_3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH_4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",REGEX_FUNCTIONAL_RGB=new RegExp("rgb"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_RGBA=new RegExp("rgba"+PERMISSIVE_MATCH_4),REGEX_FUNCTIONAL_HSL=new RegExp("hsl"+PERMISSIVE_MATCH_3),REGEX_FUNCTIONAL_HSLA=new RegExp("hsla"+PERMISSIVE_MATCH_4),HEX_START="^(?:#?|0x?)",HEX_INT_SINGLE="([0-9a-fA-F]{1})",HEX_INT_DOUBLE="([0-9a-fA-F]{2})",REGEX_HEX_3=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_4=new RegExp(HEX_START+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+HEX_INT_SINGLE+"$"),REGEX_HEX_6=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),REGEX_HEX_8=new RegExp(HEX_START+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+HEX_INT_DOUBLE+"$"),KELVIN_MIN=2e3,KELVIN_MAX=4e4,log=Math.log,round=Math.round,floor=Math.floor;function clamp(e,t,n){return Math.min(Math.max(e,t),n)}function parseUnit(e,t){var n=e.indexOf("%")>-1,o=parseFloat(e);return n?t/100*o:o}function parseHexInt(e){return parseInt(e,16)}function intToHex(e){return e.toString(16).padStart(2,"0")}var IroColor=function(){function e(e,t){this.$={h:0,s:0,v:0,a:1},e&&this.set(e),this.onChange=t,this.initialValue=_extends$1({},this.$)}var t=e.prototype;return t.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},t.setChannel=function(e,t,n){var o;this[e]=_extends$1({},this[e],((o={})[t]=n,o))},t.reset=function(){this.hsva=this.initialValue},t.clone=function(){return new e(this)},t.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(e){var t=e.h/60,n=e.s/100,o=e.v/100,r=floor(t),i=t-r,l=o*(1-n),a=o*(1-i*n),s=o*(1-(1-i)*n),c=r%6,u=[o,a,l,l,s,o][c],d=[s,o,o,a,l,l][c],h=[l,l,s,o,o,a][c];return{r:clamp(255*u,0,255),g:clamp(255*d,0,255),b:clamp(255*h,0,255)}},e.rgbToHsv=function(e){var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.max(t,n,o),i=Math.min(t,n,o),l=r-i,a=0,s=r,c=0===r?0:l/r;switch(r){case i:a=0;break;case t:a=(n-o)/l+(n<o?6:0);break;case n:a=(o-t)/l+2;break;case o:a=(t-n)/l+4}return{h:60*a%360,s:clamp(100*c,0,100),v:clamp(100*s,0,100)}},e.hsvToHsl=function(e){var t=e.s/100,n=e.v/100,o=(2-t)*n,r=o<=1?o:2-o,i=r<1e-9?0:t*n/r;return{h:e.h,s:clamp(100*i,0,100),l:clamp(50*o,0,100)}},e.hslToHsv=function(e){var t=2*e.l,n=e.s*(t<=100?t:200-t)/100,o=t+n<1e-9?0:2*n/(t+n);return{h:e.h,s:clamp(100*o,0,100),v:clamp((t+n)/2,0,100)}},e.kelvinToRgb=function(e){var t,n,o,r=e/100;return r<66?(t=255,n=-155.25485562709179-.44596950469579133*(n=r-2)+104.49216199393888*log(n),o=r<20?0:.8274096064007395*(o=r-10)-254.76935184120902+115.67994401066147*log(o)):(t=351.97690566805693+.114206453784165*(t=r-55)-40.25366309332127*log(t),n=325.4494125711974+.07943456536662342*(n=r-50)-28.0852963507957*log(n),o=255),{r:clamp(floor(t),0,255),g:clamp(floor(n),0,255),b:clamp(floor(o),0,255)}},e.rgbToKelvin=function(t){for(var n,o=t.r,r=t.b,i=KELVIN_MIN,l=KELVIN_MAX;l-i>.4;){n=.5*(l+i);var a=e.kelvinToRgb(n);a.b/a.r>=r/o?l=n:i=n}return n},_createClass(e,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var t=this.$;if(e=_extends$1({},t,e),this.onChange){var n={h:!1,v:!1,s:!1,a:!1};for(var o in t)n[o]=e[o]!=t[o];this.$=e,(n.h||n.s||n.v||n.a)&&this.onChange(this,n)}else this.$=e}},{key:"hsva",get:function(){return _extends$1({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=_extends$1({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(e){this.rgb=_extends$1({},this.rgb,{r:e})}},{key:"green",get:function(){return this.rgb.g},set:function(e){this.rgb=_extends$1({},this.rgb,{g:e})}},{key:"blue",get:function(){return this.rgb.b},set:function(e){this.rgb=_extends$1({},this.rgb,{b:e})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),n=t.r,o=t.g,r=t.b;return{r:round(n),g:round(o),b:round(r)}},set:function(t){this.hsv=_extends$1({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return _extends$1({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),n=t.h,o=t.s,r=t.l;return{h:round(n),s:round(o),l:round(r)}},set:function(t){this.hsv=_extends$1({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return _extends$1({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var t,n,o,r,i=1;if((t=REGEX_FUNCTIONAL_RGB.exec(e))?(n=parseUnit(t[1],255),o=parseUnit(t[2],255),r=parseUnit(t[3],255)):(t=REGEX_FUNCTIONAL_RGBA.exec(e))&&(n=parseUnit(t[1],255),o=parseUnit(t[2],255),r=parseUnit(t[3],255),i=parseUnit(t[4],1)),!t)throw new Error("Invalid rgb string");this.rgb={r:n,g:o,b:r,a:i}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)},set:function(e){var t,n,o,r,i=255;if((t=REGEX_HEX_3.exec(e))?(n=17*parseHexInt(t[1]),o=17*parseHexInt(t[2]),r=17*parseHexInt(t[3])):(t=REGEX_HEX_4.exec(e))?(n=17*parseHexInt(t[1]),o=17*parseHexInt(t[2]),r=17*parseHexInt(t[3]),i=17*parseHexInt(t[4])):(t=REGEX_HEX_6.exec(e))?(n=parseHexInt(t[1]),o=parseHexInt(t[2]),r=parseHexInt(t[3])):(t=REGEX_HEX_8.exec(e))&&(n=parseHexInt(t[1]),o=parseHexInt(t[2]),r=parseHexInt(t[3]),i=parseHexInt(t[4])),!t)throw new Error("Invalid hex string");this.rgb={r:n,g:o,b:r,a:i/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+intToHex(e.r)+intToHex(e.g)+intToHex(e.b)+intToHex(floor(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var t,n,o,r,i=1;if((t=REGEX_FUNCTIONAL_HSL.exec(e))?(n=parseUnit(t[1],360),o=parseUnit(t[2],100),r=parseUnit(t[3],100)):(t=REGEX_FUNCTIONAL_HSLA.exec(e))&&(n=parseUnit(t[1],360),o=parseUnit(t[2],100),r=parseUnit(t[3],100),i=parseUnit(t[4],1)),!t)throw new Error("Invalid hsl string");this.hsl={h:n,s:o,l:r,a:i}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),e}(),sliderDefaultOptions={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function getSliderDimensions(e){var t,n=e.width,o=e.sliderSize,r=e.borderWidth,i=e.handleRadius,l=e.padding,a=e.sliderShape,s="horizontal"===e.layoutDirection;return o=null!=(t=o)?t:2*l+2*i,"circle"===a?{handleStart:e.padding+e.handleRadius,handleRange:n-2*l-2*i,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-r/2}:{handleStart:o/2,handleRange:n-o,radius:o/2,x:0,y:0,width:s?o:n,height:s?n:o}}function getCurrentSliderValue(e,t){var n=t.hsva,o=t.rgb;switch(e.sliderType){case"red":return o.r/2.55;case"green":return o.g/2.55;case"blue":return o.b/2.55;case"alpha":return 100*n.a;case"kelvin":var r=e.minTemperature,i=e.maxTemperature-r,l=(t.kelvin-r)/i*100;return Math.max(0,Math.min(l,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}function getSliderValueFromInput(e,t,n){var o,r=getSliderDimensions(e),i=r.handleRange,l=r.handleStart;o="horizontal"===e.layoutDirection?-1*n+i+l:t-l,o=Math.max(Math.min(o,i),0);var a=Math.round(100/i*o);switch(e.sliderType){case"kelvin":var s=e.minTemperature;return s+(e.maxTemperature-s)*(a/100);case"alpha":return a/100;case"hue":return 3.6*a;case"red":case"blue":case"green":return 2.55*a;default:return a}}function getSliderHandlePosition(e,t){var n=getSliderDimensions(e),o=n.width,r=n.height,i=n.handleRange,l=n.handleStart,a="horizontal"===e.layoutDirection,s=a?o/2:r/2,c=l+getCurrentSliderValue(e,t)/100*i;return a&&(c=-1*c+i+2*l),{x:a?s:c,y:a?c:s}}function getSliderGradient(e,t){var n=t.hsv,o=t.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+o.g+","+o.b+")"],[100,"rgb(255,"+o.g+","+o.b+")"]];case"green":return[[0,"rgb("+o.r+",0,"+o.b+")"],[100,"rgb("+o.r+",255,"+o.b+")"]];case"blue":return[[0,"rgb("+o.r+","+o.g+",0)"],[100,"rgb("+o.r+","+o.g+",255)"]];case"alpha":return[[0,"rgba("+o.r+","+o.g+","+o.b+",0)"],[100,"rgb("+o.r+","+o.g+","+o.b+")"]];case"kelvin":for(var r=[],i=e.minTemperature,l=e.maxTemperature,a=l-i,s=i,c=0;s<l;s+=a/8,c+=1){var u=IroColor.kelvinToRgb(s),d=u.r,h=u.g,g=u.b;r.push([12.5*c,"rgb("+d+","+h+","+g+")"])}return r;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var p=IroColor.hsvToHsl({h:n.h,s:0,v:n.v}),f=IroColor.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+p.h+","+p.s+"%,"+p.l+"%)"],[100,"hsl("+f.h+","+f.s+"%,"+f.l+"%)"]];default:var v=IroColor.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+v.h+","+v.s+"%,"+v.l+"%)"]]}}var BASE_ELEMENTS,TAU=2*Math.PI,mod=function(e,t){return(e%t+t)%t},dist=function(e,t){return Math.sqrt(e*e+t*t)};function getHandleRange(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function isInputInsideWheel(e,t,n){var o=getWheelDimensions(e),r=o.cx,i=o.cy,l=e.width/2;return dist(r-t,i-n)<l}function getWheelDimensions(e){var t=e.width/2;return{width:e.width,radius:t-e.borderWidth,cx:t,cy:t}}function translateWheelAngle(e,t,n){var o=e.wheelAngle,r=e.wheelDirection;return n&&"clockwise"===r?t=o+t:"clockwise"===r?t=360-o+t:n&&"anticlockwise"===r?t=o+180-t:"anticlockwise"===r&&(t=o-t),mod(t,360)}function getWheelHandlePosition(e,t){var n=t.hsv,o=getWheelDimensions(e),r=o.cx,i=o.cy,l=getHandleRange(e),a=(180+translateWheelAngle(e,n.h,!0))*(TAU/360),s=n.s/100*l,c="clockwise"===e.wheelDirection?-1:1;return{x:r+s*Math.cos(a)*c,y:i+s*Math.sin(a)*c}}function getWheelValueFromInput(e,t,n){var o=getWheelDimensions(e),r=o.cx,i=o.cy,l=getHandleRange(e);t=r-t,n=i-n;var a=translateWheelAngle(e,Math.atan2(-n,-t)*(360/TAU)),s=Math.min(dist(t,n),l);return{h:Math.round(a),s:Math.round(100/l*s)}}function getBoxDimensions(e){var t=e.width,n=e.boxHeight;return{width:t,height:null!=n?n:t,radius:e.padding+e.handleRadius}}function getBoxValueFromInput(e,t,n){var o=getBoxDimensions(e),r=o.width,i=o.height,l=o.radius,a=(t-l)/(r-2*l)*100,s=(n-l)/(i-2*l)*100;return{s:Math.max(0,Math.min(a,100)),v:Math.max(0,Math.min(100-s,100))}}function getBoxHandlePosition(e,t){var n=getBoxDimensions(e),o=n.width,r=n.height,i=n.radius,l=t.hsv,a=i,s=o-2*i,c=r-2*i;return{x:a+l.s/100*s,y:a+(c-l.v/100*c)}}function getBoxGradients(e,t){return[[[0,"#fff"],[100,"hsl("+t.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}function resolveSvgUrl(e){BASE_ELEMENTS||(BASE_ELEMENTS=document.getElementsByTagName("base"));var t=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(t),o=/iPhone|iPod|iPad/i.test(t),r=window.location;return(n||o)&&BASE_ELEMENTS.length>0?r.protocol+"//"+r.host+r.pathname+r.search+e:e}function getHandleAtPoint(e,t,n,o){for(var r=0;r<o.length;r++){var i=o[r].x-t,l=o[r].y-n;if(Math.sqrt(i*i+l*l)<e.handleRadius)return r}return null}function cssBorderStyles(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function cssGradient(e,t,n){return e+"-gradient("+t+", "+n.map((function(e){var t=e[0];return e[1]+" "+t+"%"})).join(",")+")"}function cssValue(e){return"string"==typeof e?e:e+"px"}var iroColorPickerOptionDefaults={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},SECONDARY_EVENTS=["mousemove","touchmove","mouseup","touchend"],IroComponentWrapper=function(e){function t(t){e.call(this,t),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){var t=this.handleEvent.bind(this),n={onMouseDown:t,ontouchstart:t},o="horizontal"===e.layoutDirection,r=null===e.margin?e.sliderMargin:e.margin,i={overflow:"visible",display:o?"inline-block":"block"};return e.index>0&&(i[o?"marginLeft":"marginTop"]=r),h(d,null,e.children(this.uid,n,i))},t.prototype.handleEvent=function(e){var t=this,n=this.props.onInput,o=this.base.getBoundingClientRect();e.preventDefault();var r=e.touches?e.changedTouches[0]:e,i=r.clientX-o.left,l=r.clientY-o.top;switch(e.type){case"mousedown":case"touchstart":!1!==n(i,l,0)&&SECONDARY_EVENTS.forEach((function(e){document.addEventListener(e,t,{passive:!1})}));break;case"mousemove":case"touchmove":n(i,l,1);break;case"mouseup":case"touchend":n(i,l,2),SECONDARY_EVENTS.forEach((function(e){document.removeEventListener(e,t,{passive:!1})}))}},t}(m);function IroHandle(e){var t=e.r,n=e.url,o=t,r=t;return h("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+cssValue(e.x)+", "+cssValue(e.y)+")",willChange:"transform",top:cssValue(-t),left:cssValue(-t),width:cssValue(2*t),height:cssValue(2*t),position:"absolute",overflow:"visible"}},n&&h("use",Object.assign({xlinkHref:resolveSvgUrl(n)},e.props)),!n&&h("circle",{cx:o,cy:r,r:t,fill:"none","stroke-width":2,stroke:"#000"}),!n&&h("circle",{cx:o,cy:r,r:t-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function IroSlider(e){var t=e.activeIndex,n=void 0!==t&&t<e.colors.length?e.colors[t]:e.color,o=getSliderDimensions(e),r=o.width,i=o.height,l=o.radius,a=getSliderHandlePosition(e,n),s=getSliderGradient(e,n);return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,o,r){var i=getSliderValueFromInput(e,t,o);e.parent.inputActive=!0,n[e.sliderType]=i,e.onInput(r,e.id)}}),(function(t,o,c){return h("div",Object.assign({},o,{className:"IroSlider",style:Object.assign({},{position:"relative",width:cssValue(r),height:cssValue(i),borderRadius:cssValue(l),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},c)}),h("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:cssValue(l),background:cssGradient("linear","horizontal"===e.layoutDirection?"to top":"to right",s)},cssBorderStyles(e))}),h(IroHandle,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:a.x,y:a.y}))}))}function IroBox(e){var t=getBoxDimensions(e),n=t.width,o=t.height,r=t.radius,i=e.colors,l=e.parent,a=e.activeIndex,s=void 0!==a&&a<e.colors.length?e.colors[a]:e.color,c=getBoxGradients(e,s),u=i.map((function(t){return getBoxHandlePosition(e,t)}));return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,n,o){if(0===o){var r=getHandleAtPoint(e,t,n,u);null!==r?l.setActiveColor(r):(l.inputActive=!0,s.hsv=getBoxValueFromInput(e,t,n),e.onInput(o,e.id))}else 1===o&&(l.inputActive=!0,s.hsv=getBoxValueFromInput(e,t,n));e.onInput(o,e.id)}}),(function(t,l,a){return h("div",Object.assign({},l,{className:"IroBox",style:Object.assign({},{width:cssValue(n),height:cssValue(o),position:"relative"},a)}),h("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:cssValue(r)},cssBorderStyles(e),{background:cssGradient("linear","to bottom",c[1])+","+cssGradient("linear","to right",c[0])})}),i.filter((function(e){return e!==s})).map((function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[t.index].x,y:u[t.index].y})})),h(IroHandle,{isActive:!0,index:s.index,fill:s.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:u[s.index].x,y:u[s.index].y}))}))}IroHandle.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},IroSlider.defaultProps=Object.assign({},sliderDefaultOptions);var HUE_GRADIENT_CLOCKWISE="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",HUE_GRADIENT_ANTICLOCKWISE="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function IroWheel(e){var t=getWheelDimensions(e).width,n=e.colors;e.borderWidth;var o=e.parent,r=e.color,i=r.hsv,l=n.map((function(t){return getWheelHandlePosition(e,t)})),a={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return h(IroComponentWrapper,Object.assign({},e,{onInput:function(t,n,i){if(0===i){if(!isInputInsideWheel(e,t,n))return!1;var a=getHandleAtPoint(e,t,n,l);null!==a?o.setActiveColor(a):(o.inputActive=!0,r.hsv=getWheelValueFromInput(e,t,n),e.onInput(i,e.id))}else 1===i&&(o.inputActive=!0,r.hsv=getWheelValueFromInput(e,t,n));e.onInput(i,e.id)}}),(function(o,s,c){return h("div",Object.assign({},s,{className:"IroWheel",style:Object.assign({},{width:cssValue(t),height:cssValue(t),position:"relative"},c)}),h("div",{className:"IroWheelHue",style:Object.assign({},a,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:"clockwise"===e.wheelDirection?HUE_GRADIENT_CLOCKWISE:HUE_GRADIENT_ANTICLOCKWISE})}),h("div",{className:"IroWheelSaturation",style:Object.assign({},a,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&h("div",{className:"IroWheelLightness",style:Object.assign({},a,{background:"#000",opacity:1-i.v/100})}),h("div",{className:"IroWheelBorder",style:Object.assign({},a,cssBorderStyles(e))}),n.filter((function(e){return e!==r})).map((function(t){return h(IroHandle,{isActive:!1,index:t.index,fill:t.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[t.index].x,y:l[t.index].y})})),h(IroHandle,{isActive:!0,index:r.index,fill:r.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l[r.index].x,y:l[r.index].y}))}))}function createWidget(e){var t=function(t,n){var o,r=document.createElement("div");function i(){var e=t instanceof Element?t:document.querySelector(t);e.appendChild(o.base),o.onMount(e)}return I(h(e,Object.assign({},{ref:function(e){return o=e}},n)),r),"loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i),o};return t.prototype=e.prototype,Object.assign(t,e),t.__component=e,t}var IroColorPicker=function(e){function t(t){var n=this;e.call(this,t),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=t.id,(t.colors.length>0?t.colors:[t.color]).forEach((function(e){return n.addColor(e)})),this.setActiveColor(0),this.state=Object.assign({},t,{color:this.color,colors:this.colors,layout:t.layout})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addColor=function(e,t){void 0===t&&(t=this.colors.length);var n=new IroColor(e,this.onColorChange.bind(this));this.colors.splice(t,0,n),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",n)},t.prototype.removeColor=function(e){var t=this.colors.splice(e,1)[0];t.unbind(),this.colors.forEach((function(e,t){return e.index=t})),this.state&&this.setState({colors:this.colors}),t.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",t)},t.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},t.prototype.setColors=function(e,t){var n=this;void 0===t&&(t=0),this.colors.forEach((function(e){return e.unbind()})),this.colors=[],e.forEach((function(e){return n.addColor(e)})),this.setActiveColor(t),this.emit("color:setAll",this.colors)},t.prototype.on=function(e,t){var n=this,o=this.events;(Array.isArray(e)?e:[e]).forEach((function(e){(o[e]||(o[e]=[])).push(t),n.deferredEvents[e]&&(n.deferredEvents[e].forEach((function(e){t.apply(null,e)})),n.deferredEvents[e]=[])}))},t.prototype.off=function(e,t){var n=this;(Array.isArray(e)?e:[e]).forEach((function(e){var o=n.events[e];o&&o.splice(o.indexOf(t),1)}))},t.prototype.emit=function(e){for(var t=this,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];var r=this.activeEvents;!!r.hasOwnProperty(e)&&r[e]||(r[e]=!0,(this.events[e]||[]).forEach((function(e){return e.apply(t,n)})),r[e]=!1)},t.prototype.deferredEmit=function(e){for(var t,n=[],o=arguments.length-1;o-- >0;)n[o]=arguments[o+1];var r=this.deferredEvents;(t=this).emit.apply(t,[e].concat(n)),(r[e]||(r[e]=[])).push(n)},t.prototype.setOptions=function(e){this.setState(e)},t.prototype.resize=function(e){this.setOptions({width:e})},t.prototype.reset=function(){this.colors.forEach((function(e){return e.reset()})),this.setState({colors:this.colors})},t.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},t.prototype.onColorChange=function(e,t){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,t)),this.emit("color:change",e,t)},t.prototype.emitInputEvent=function(e,t){0===e?this.emit("input:start",this.color,t):1===e?this.emit("input:move",this.color,t):2===e&&this.emit("input:end",this.color,t)},t.prototype.render=function(e,t){var n=this,o=t.layout;return Array.isArray(o)||(o=[{component:IroWheel},{component:IroSlider}],t.transparency&&o.push({component:IroSlider,options:{sliderType:"alpha"}})),h("div",{class:"IroColorPicker",id:t.id,style:{display:t.display}},o.map((function(e,o){var r=e.component,i=e.options;return h(r,Object.assign({},t,i,{ref:void 0,onInput:n.emitInputEvent.bind(n),parent:n,index:o}))})))},t}(m);IroColorPicker.defaultProps=Object.assign({},iroColorPickerOptionDefaults,{colors:[],display:"block",id:null,layout:"default",margin:null});var iro,IroColorPickerWidget=createWidget(IroColorPicker);!function(e){var t;e.version="5.5.2",e.Color=IroColor,e.ColorPicker=IroColorPickerWidget,(t=e.ui||(e.ui={})).h=h,t.ComponentBase=IroComponentWrapper,t.Handle=IroHandle,t.Slider=IroSlider,t.Wheel=IroWheel,t.Box=IroBox}(iro||(iro={}));var iro$1=iro;
/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,o,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var version="1.15.0";function userAgent(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var IE11OrLess=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Edge=userAgent(/Edge/i),FireFox=userAgent(/firefox/i),Safari=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),IOS=userAgent(/iP(ad|od|hone)/i),ChromeForAndroid=userAgent(/chrome/i)&&userAgent(/android/i),captureMode={capture:!1,passive:!1};function on(e,t,n){e.addEventListener(t,n,!IE11OrLess&&captureMode)}function off(e,t,n){e.removeEventListener(t,n,!IE11OrLess&&captureMode)}function matches(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function getParentOrHost(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function closest(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&matches(e,t):matches(e,t))||o&&e===n)return e;if(e===n)break}while(e=getParentOrHost(e))}return null}var _throttleTimeout,R_SPACE=/\s+/g;function toggleClass(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(R_SPACE," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(R_SPACE," ")}}function css(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function matrix(e,t){var n="";if("string"==typeof e)n=e;else do{var o=css(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function find(e,t,n){if(e){var o=e.getElementsByTagName(t),r=0,i=o.length;if(n)for(;r<i;r++)n(o[r],r);return o}return[]}function getWindowScrollingElement(){var e=document.scrollingElement;return e||document.documentElement}function getRect(e,t,n,o,r){if(e.getBoundingClientRect||e===window){var i,l,a,s,c,u,d;if(e!==window&&e.parentNode&&e!==getWindowScrollingElement()?(l=(i=e.getBoundingClientRect()).top,a=i.left,s=i.bottom,c=i.right,u=i.height,d=i.width):(l=0,a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!IE11OrLess))do{if(r&&r.getBoundingClientRect&&("none"!==css(r,"transform")||n&&"static"!==css(r,"position"))){var h=r.getBoundingClientRect();l-=h.top+parseInt(css(r,"border-top-width")),a-=h.left+parseInt(css(r,"border-left-width")),s=l+i.height,c=a+i.width;break}}while(r=r.parentNode);if(o&&e!==window){var g=matrix(r||e),p=g&&g.a,f=g&&g.d;g&&(s=(l/=f)+(u/=f),c=(a/=p)+(d/=p))}return{top:l,left:a,bottom:s,right:c,width:d,height:u}}}function isScrolledPast(e,t,n){for(var o=getParentAutoScrollElement(e,!0),r=getRect(e)[t];o;){var i=getRect(o)[n];if(!("top"===n||"left"===n?r>=i:r<=i))return o;if(o===getWindowScrollingElement())break;o=getParentAutoScrollElement(o,!1)}return!1}function getChild(e,t,n,o){for(var r=0,i=0,l=e.children;i<l.length;){if("none"!==l[i].style.display&&l[i]!==Sortable.ghost&&(o||l[i]!==Sortable.dragged)&&closest(l[i],n.draggable,e,!1)){if(r===t)return l[i];r++}i++}return null}function lastChild(e,t){for(var n=e.lastElementChild;n&&(n===Sortable.ghost||"none"===css(n,"display")||t&&!matches(n,t));)n=n.previousElementSibling;return n||null}function index(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Sortable.clone||t&&!matches(e,t)||n++;return n}function getRelativeScrollOffset(e){var t=0,n=0,o=getWindowScrollingElement();if(e)do{var r=matrix(e),i=r.a,l=r.d;t+=e.scrollLeft*i,n+=e.scrollTop*l}while(e!==o&&(e=e.parentNode));return[t,n]}function indexOfObject(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}function getParentAutoScrollElement(e,t){if(!e||!e.getBoundingClientRect)return getWindowScrollingElement();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=css(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return getWindowScrollingElement();if(o||t)return n;o=!0}}}while(n=n.parentNode);return getWindowScrollingElement()}function extend(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function isRectEqual(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function throttle(e,t){return function(){if(!_throttleTimeout){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),_throttleTimeout=setTimeout((function(){_throttleTimeout=void 0}),t)}}}function cancelThrottle(){clearTimeout(_throttleTimeout),_throttleTimeout=void 0}function scrollBy(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function clone(e){var t=window.Polymer,$=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):$?$(e).clone(!0)[0]:e.cloneNode(!0)}var expando="Sortable"+(new Date).getTime();function AnimationStateManager(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==css(e,"display")&&e!==Sortable.ghost){t.push({target:e,rect:getRect(e)});var n=_objectSpread2({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=matrix(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(indexOfObject(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,i=0;t.forEach((function(e){var t=0,n=e.target,l=n.fromRect,a=getRect(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,d=matrix(n,!0);d&&(a.top-=d.f,a.left-=d.e),n.toRect=a,n.thisAnimationDuration&&isRectEqual(s,a)&&!isRectEqual(l,a)&&(u.top-a.top)/(u.left-a.left)==(l.top-a.top)/(l.left-a.left)&&(t=calculateRealTime(u,s,c,o.options)),isRectEqual(a,l)||(n.prevFromRect=l,n.prevToRect=a,t||(t=o.options.animation),o.animate(n,u,a,t)),t&&(r=!0,i=Math.max(i,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){css(e,"transition",""),css(e,"transform","");var r=matrix(this.el),i=r&&r.a,l=r&&r.d,a=(t.left-n.left)/(i||1),s=(t.top-n.top)/(l||1);e.animatingX=!!a,e.animatingY=!!s,css(e,"transform","translate3d("+a+"px,"+s+"px,0)"),this.forRepaintDummy=repaint(e),css(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),css(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){css(e,"transition",""),css(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}function repaint(e){return e.offsetWidth}function calculateRealTime(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var plugins=[],defaults={initializeByDefault:!0},PluginManager={mount:function(e){for(var t in defaults)defaults.hasOwnProperty(t)&&!(t in e)&&(e[t]=defaults[t]);plugins.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),plugins.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";plugins.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](_objectSpread2({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](_objectSpread2({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var r in plugins.forEach((function(o){var r=o.pluginName;if(e.options[r]||o.initializeByDefault){var i=new o(e,t,e.options);i.sortable=e,i.options=e.options,e[r]=i,_extends(n,i.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var i=this.modifyOption(e,r,e.options[r]);void 0!==i&&(e.options[r]=i)}},getEventProperties:function(e,t){var n={};return plugins.forEach((function(o){"function"==typeof o.eventProperties&&_extends(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return plugins.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(o=r.optionListeners[t].call(e[r.pluginName],n))})),o}};function dispatchEvent(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,i=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,g=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[expando]){var f,v=t.options,m="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||IE11OrLess||Edge?(f=document.createEvent("Event")).initEvent(o,!0,!0):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=l||n,f.from=a||n,f.item=r||n,f.clone=i,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=u,f.newDraggableIndex=d,f.originalEvent=h,f.pullMode=g?g.lastPutMode:void 0;var E=_objectSpread2(_objectSpread2({},p),PluginManager.getEventProperties(o,t));for(var _ in E)f[_]=E[_];n&&n.dispatchEvent(f),v[m]&&v[m].call(t,f)}}var _excluded=["evt"],pluginEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=_objectWithoutProperties(n,_excluded);PluginManager.pluginEvent.bind(Sortable)(e,t,_objectSpread2({dragEl:dragEl,parentEl:parentEl,ghostEl:ghostEl,rootEl:rootEl,nextEl:nextEl,lastDownEl:lastDownEl,cloneEl:cloneEl,cloneHidden:cloneHidden,dragStarted:moved,putSortable:putSortable,activeSortable:Sortable.active,originalEvent:o,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex,hideGhostForTarget:_hideGhostForTarget,unhideGhostForTarget:_unhideGhostForTarget,cloneNowHidden:function(){cloneHidden=!0},cloneNowShown:function(){cloneHidden=!1},dispatchSortableEvent:function(e){_dispatchEvent({sortable:t,name:e,originalEvent:o})}},r))};function _dispatchEvent(e){dispatchEvent(_objectSpread2({putSortable:putSortable,cloneEl:cloneEl,targetEl:dragEl,rootEl:rootEl,oldIndex:oldIndex,oldDraggableIndex:oldDraggableIndex,newIndex:newIndex,newDraggableIndex:newDraggableIndex},e))}var dragEl,parentEl,ghostEl,rootEl,nextEl,lastDownEl,cloneEl,cloneHidden,oldIndex,newIndex,oldDraggableIndex,newDraggableIndex,activeGroup,putSortable,tapEvt,touchEvt,lastDx,lastDy,tapDistanceLeft,tapDistanceTop,moved,lastTarget,lastDirection,targetMoveDistance,ghostRelativeParent,awaitingDragStarted=!1,ignoreNextClick=!1,sortables=[],pastFirstInvertThresh=!1,isCircumstantialInvert=!1,ghostRelativeParentInitialScroll=[],_silent=!1,savedInputChecked=[],documentExists="undefined"!=typeof document,PositionGhostAbsolutely=IOS,CSSFloatProperty=Edge||IE11OrLess?"cssFloat":"float",supportDraggable=documentExists&&!ChromeForAndroid&&!IOS&&"draggable"in document.createElement("div"),supportCssPointerEvents=function(){if(documentExists){if(IE11OrLess)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),_detectDirection=function(e,t){var n=css(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=getChild(e,0,t),i=getChild(e,1,t),l=r&&css(r),a=i&&css(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+getRect(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+getRect(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&"none"!==l.float){var u="left"===l.float?"left":"right";return!i||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||s>=o&&"none"===n[CSSFloatProperty]||i&&"none"===n[CSSFloatProperty]&&s+c>o)?"vertical":"horizontal"},_dragElInRowColumn=function(e,t,n){var o=n?e.left:e.top,r=n?e.right:e.bottom,i=n?e.width:e.height,l=n?t.left:t.top,a=n?t.right:t.bottom,s=n?t.width:t.height;return o===l||r===a||o+i/2===l+s/2},_detectNearestEmptySortable=function(e,t){var n;return sortables.some((function(o){var r=o[expando].options.emptyInsertThreshold;if(r&&!lastChild(o)){var i=getRect(o),l=e>=i.left-r&&e<=i.right+r,a=t>=i.top-r&&t<=i.bottom+r;return l&&a?n=o:void 0}})),n},_prepareGroup=function(e){function t(e,n){return function(o,r,i,l){var a=o.options.group.name&&r.options.group.name&&o.options.group.name===r.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,r,i,l),n)(o,r,i,l);var s=(n?o:r).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==_typeof(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},_hideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","none")},_unhideGhostForTarget=function(){!supportCssPointerEvents&&ghostEl&&css(ghostEl,"display","")};documentExists&&!ChromeForAndroid&&document.addEventListener("click",(function(e){if(ignoreNextClick)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ignoreNextClick=!1,!1}),!0);var nearestEmptyInsertDetectEvent=function(e){if(dragEl){e=e.touches?e.touches[0]:e;var t=_detectNearestEmptySortable(e.clientX,e.clientY);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[expando]._onDragOver(n)}}},_checkOutsideTargetEl=function(e){dragEl&&dragEl.parentNode[expando]._isOutsideThisEl(e.target)};function Sortable(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_extends({},t),e[expando]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return _detectDirection(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&"PointerEvent"in window&&!Safari,emptyInsertThreshold:5};for(var o in PluginManager.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var r in _prepareGroup(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&supportDraggable,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?on(e,"pointerdown",this._onTapStart):(on(e,"mousedown",this._onTapStart),on(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(e,"dragover",this),on(e,"dragenter",this)),sortables.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_extends(this,AnimationStateManager())}function _globalDragOver(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function _onMove(e,t,n,o,r,i,l,a){var s,c,u=e[expando],d=u.options.onMove;return!window.CustomEvent||IE11OrLess||Edge?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=r||t,s.relatedRect=i||getRect(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),d&&(c=d.call(u,s,l)),c}function _disableDraggable(e){e.draggable=!1}function _unsilent(){_silent=!1}function _ghostIsFirst(e,t,n){var o=getRect(getChild(n.el,0,n.options,!0));return t?e.clientX<o.left-10||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-10||e.clientY<o.bottom&&e.clientX<o.left}function _ghostIsLast(e,t,n){var o=getRect(lastChild(n.el,n.options.draggable));return t?e.clientX>o.right+10||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+10}function _getSwapDirection(e,t,n,o,r,i,l,a){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,d=o?n.bottom:n.right,h=!1;if(!l)if(a&&targetMoveDistance<c*r){if(!pastFirstInvertThresh&&(1===lastDirection?s>u+c*i/2:s<d-c*i/2)&&(pastFirstInvertThresh=!0),pastFirstInvertThresh)h=!0;else if(1===lastDirection?s<u+targetMoveDistance:s>d-targetMoveDistance)return-lastDirection}else if(s>u+c*(1-r)/2&&s<d-c*(1-r)/2)return _getInsertDirection(t);return(h=h||l)&&(s<u+c*i/2||s>d-c*i/2)?s>u+c/2?1:-1:0}function _getInsertDirection(e){return index(dragEl)<index(e)?1:-1}function _generateId(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function _saveInputCheckedState(e){savedInputChecked.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&savedInputChecked.push(o)}}function _nextTick(e){return setTimeout(e,0)}function _cancelNextTick(e){return clearTimeout(e)}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(lastTarget=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,dragEl):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,r=o.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(_saveInputCheckedState(n),!dragEl&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Safari||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=closest(a,o.draggable,n,!1))&&a.animated||lastDownEl===a)){if(oldIndex=index(a),oldDraggableIndex=index(a,o.draggable),"function"==typeof c){if(c.call(this,e,a,this))return _dispatchEvent({sortable:t,rootEl:s,name:"filter",targetEl:a,toEl:n,fromEl:n}),pluginEvent("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=closest(s,o.trim(),n,!1))return _dispatchEvent({sortable:t,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),pluginEvent("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());o.handle&&!closest(s,o.handle,n,!1)||this._prepareDragStart(e,l,a)}}},_prepareDragStart:function(e,t,n){var o,r=this,i=r.el,l=r.options,a=i.ownerDocument;if(n&&!dragEl&&n.parentNode===i){var s=getRect(n);if(rootEl=i,parentEl=(dragEl=n).parentNode,nextEl=dragEl.nextSibling,lastDownEl=n,activeGroup=l.group,Sortable.dragged=dragEl,tapEvt={target:dragEl,clientX:(t||e).clientX,clientY:(t||e).clientY},tapDistanceLeft=tapEvt.clientX-s.left,tapDistanceTop=tapEvt.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,dragEl.style["will-change"]="all",o=function(){pluginEvent("delayEnded",r,{evt:e}),Sortable.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!FireFox&&r.nativeDraggable&&(dragEl.draggable=!0),r._triggerDragStart(e,t),_dispatchEvent({sortable:r,name:"choose",originalEvent:e}),toggleClass(dragEl,l.chosenClass,!0))},l.ignore.split(",").forEach((function(e){find(dragEl,e.trim(),_disableDraggable)})),on(a,"dragover",nearestEmptyInsertDetectEvent),on(a,"mousemove",nearestEmptyInsertDetectEvent),on(a,"touchmove",nearestEmptyInsertDetectEvent),on(a,"mouseup",r._onDrop),on(a,"touchend",r._onDrop),on(a,"touchcancel",r._onDrop),FireFox&&this.nativeDraggable&&(this.options.touchStartThreshold=4,dragEl.draggable=!0),pluginEvent("delayStart",this,{evt:e}),!l.delay||l.delayOnTouchOnly&&!t||this.nativeDraggable&&(Edge||IE11OrLess))o();else{if(Sortable.eventCanceled)return void this._onDrop();on(a,"mouseup",r._disableDelayedDrag),on(a,"touchend",r._disableDelayedDrag),on(a,"touchcancel",r._disableDelayedDrag),on(a,"mousemove",r._delayedDragTouchMoveHandler),on(a,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&on(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(o,l.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){dragEl&&_disableDraggable(dragEl),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._disableDelayedDrag),off(e,"touchend",this._disableDelayedDrag),off(e,"touchcancel",this._disableDelayedDrag),off(e,"mousemove",this._delayedDragTouchMoveHandler),off(e,"touchmove",this._delayedDragTouchMoveHandler),off(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?on(document,"pointermove",this._onTouchMove):on(document,t?"touchmove":"mousemove",this._onTouchMove):(on(dragEl,"dragend",this),on(rootEl,"dragstart",this._onDragStart));try{document.selection?_nextTick((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(awaitingDragStarted=!1,rootEl&&dragEl){pluginEvent("dragStarted",this,{evt:t}),this.nativeDraggable&&on(document,"dragover",_checkOutsideTargetEl);var n=this.options;!e&&toggleClass(dragEl,n.dragClass,!1),toggleClass(dragEl,n.ghostClass,!0),Sortable.active=this,e&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(touchEvt){this._lastX=touchEvt.clientX,this._lastY=touchEvt.clientY,_hideGhostForTarget();for(var e=document.elementFromPoint(touchEvt.clientX,touchEvt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(touchEvt.clientX,touchEvt.clientY))!==t;)t=e;if(dragEl.parentNode[expando]._isOutsideThisEl(e),t)do{if(t[expando]){if(t[expando]._onDragOver({clientX:touchEvt.clientX,clientY:touchEvt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);_unhideGhostForTarget()}},_onTouchMove:function(e){if(tapEvt){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,i=ghostEl&&matrix(ghostEl,!0),l=ghostEl&&i&&i.a,a=ghostEl&&i&&i.d,s=PositionGhostAbsolutely&&ghostRelativeParent&&getRelativeScrollOffset(ghostRelativeParent),c=(r.clientX-tapEvt.clientX+o.x)/(l||1)+(s?s[0]-ghostRelativeParentInitialScroll[0]:0)/(l||1),u=(r.clientY-tapEvt.clientY+o.y)/(a||1)+(s?s[1]-ghostRelativeParentInitialScroll[1]:0)/(a||1);if(!Sortable.active&&!awaitingDragStarted){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ghostEl){i?(i.e+=c-(lastDx||0),i.f+=u-(lastDy||0)):i={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");css(ghostEl,"webkitTransform",d),css(ghostEl,"mozTransform",d),css(ghostEl,"msTransform",d),css(ghostEl,"transform",d),lastDx=c,lastDy=u,touchEvt=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ghostEl){var e=this.options.fallbackOnBody?document.body:rootEl,t=getRect(dragEl,!0,PositionGhostAbsolutely,!0,e),n=this.options;if(PositionGhostAbsolutely){for(ghostRelativeParent=e;"static"===css(ghostRelativeParent,"position")&&"none"===css(ghostRelativeParent,"transform")&&ghostRelativeParent!==document;)ghostRelativeParent=ghostRelativeParent.parentNode;ghostRelativeParent!==document.body&&ghostRelativeParent!==document.documentElement?(ghostRelativeParent===document&&(ghostRelativeParent=getWindowScrollingElement()),t.top+=ghostRelativeParent.scrollTop,t.left+=ghostRelativeParent.scrollLeft):ghostRelativeParent=getWindowScrollingElement(),ghostRelativeParentInitialScroll=getRelativeScrollOffset(ghostRelativeParent)}toggleClass(ghostEl=dragEl.cloneNode(!0),n.ghostClass,!1),toggleClass(ghostEl,n.fallbackClass,!0),toggleClass(ghostEl,n.dragClass,!0),css(ghostEl,"transition",""),css(ghostEl,"transform",""),css(ghostEl,"box-sizing","border-box"),css(ghostEl,"margin",0),css(ghostEl,"top",t.top),css(ghostEl,"left",t.left),css(ghostEl,"width",t.width),css(ghostEl,"height",t.height),css(ghostEl,"opacity","0.8"),css(ghostEl,"position",PositionGhostAbsolutely?"absolute":"fixed"),css(ghostEl,"zIndex","100000"),css(ghostEl,"pointerEvents","none"),Sortable.ghost=ghostEl,e.appendChild(ghostEl),css(ghostEl,"transform-origin",tapDistanceLeft/parseInt(ghostEl.style.width)*100+"% "+tapDistanceTop/parseInt(ghostEl.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,r=n.options;pluginEvent("dragStart",this,{evt:e}),Sortable.eventCanceled?this._onDrop():(pluginEvent("setupClone",this),Sortable.eventCanceled||((cloneEl=clone(dragEl)).removeAttribute("id"),cloneEl.draggable=!1,cloneEl.style["will-change"]="",this._hideClone(),toggleClass(cloneEl,this.options.chosenClass,!1),Sortable.clone=cloneEl),n.cloneId=_nextTick((function(){pluginEvent("clone",n),Sortable.eventCanceled||(n.options.removeCloneOnHide||rootEl.insertBefore(cloneEl,dragEl),n._hideClone(),_dispatchEvent({sortable:n,name:"clone"}))})),!t&&toggleClass(dragEl,r.dragClass,!0),t?(ignoreNextClick=!0,n._loopId=setInterval(n._emulateDragOver,50)):(off(document,"mouseup",n._onDrop),off(document,"touchend",n._onDrop),off(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(n,o,dragEl)),on(document,"drop",n),css(dragEl,"transform","translateZ(0)")),awaitingDragStarted=!0,n._dragStartId=_nextTick(n._dragStarted.bind(n,t,e)),on(document,"selectstart",n),moved=!0,Safari&&css(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,i=this.el,l=e.target,a=this.options,s=a.group,c=Sortable.active,u=activeGroup===s,d=a.sort,h=putSortable||c,g=this,p=!1;if(!_silent){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=closest(l,a.draggable,i,!0),k("dragOver"),Sortable.eventCanceled)return p;if(dragEl.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||g._ignoreWhileAnimating===l)return P(!1);if(ignoreNextClick=!1,c&&!a.disabled&&(u?d||(o=parentEl!==rootEl):putSortable===this||(this.lastPutMode=activeGroup.checkPull(this,c,dragEl,e))&&s.checkPut(this,c,dragEl,e))){if(r="vertical"===this._getDirection(e,l),t=getRect(dragEl),k("dragOverValid"),Sortable.eventCanceled)return p;if(o)return parentEl=rootEl,A(),this._hideClone(),k("revert"),Sortable.eventCanceled||(nextEl?rootEl.insertBefore(dragEl,nextEl):rootEl.appendChild(dragEl)),P(!0);var f=lastChild(i,a.draggable);if(!f||_ghostIsLast(e,r,this)&&!f.animated){if(f===dragEl)return P(!1);if(f&&i===e.target&&(l=f),l&&(n=getRect(l)),!1!==_onMove(rootEl,i,dragEl,t,l,n,e,!!l))return A(),f&&f.nextSibling?i.insertBefore(dragEl,f.nextSibling):i.appendChild(dragEl),parentEl=i,R(),P(!0)}else if(f&&_ghostIsFirst(e,r,this)){var v=getChild(i,0,a,!0);if(v===dragEl)return P(!1);if(n=getRect(l=v),!1!==_onMove(rootEl,i,dragEl,t,l,n,e,!1))return A(),i.insertBefore(dragEl,v),parentEl=i,R(),P(!0)}else if(l.parentNode===i){n=getRect(l);var m,E,_,b=dragEl.parentNode!==i,S=!_dragElInRowColumn(dragEl.animated&&dragEl.toRect||t,l.animated&&l.toRect||n,r),y=r?"top":"left",x=isScrolledPast(l,"top","top")||isScrolledPast(dragEl,"top","top"),w=x?x.scrollTop:void 0;if(lastTarget!==l&&(E=n[y],pastFirstInvertThresh=!1,isCircumstantialInvert=!S&&a.invertSwap||b),0!==(m=_getSwapDirection(e,l,n,r,S?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,isCircumstantialInvert,lastTarget===l))){var I=index(dragEl);do{I-=m,_=parentEl.children[I]}while(_&&("none"===css(_,"display")||_===ghostEl))}if(0===m||_===l)return P(!1);lastTarget=l,lastDirection=m;var C=l.nextElementSibling,T=!1,D=_onMove(rootEl,i,dragEl,t,l,n,e,T=1===m);if(!1!==D)return 1!==D&&-1!==D||(T=1===D),_silent=!0,setTimeout(_unsilent,30),A(),T&&!C?i.appendChild(dragEl):l.parentNode.insertBefore(dragEl,T?C:l),x&&scrollBy(x,0,w-x.scrollTop),parentEl=dragEl.parentNode,void 0===E||isCircumstantialInvert||(targetMoveDistance=Math.abs(E-getRect(l)[y])),R(),P(!0)}if(i.contains(dragEl))return P(!1)}return!1}function k(a,s){pluginEvent(a,g,_objectSpread2({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:l,completed:P,onMove:function(n,o){return _onMove(rootEl,i,dragEl,t,n,getRect(n),e,o)},changed:R},s))}function A(){k("dragOverAnimationCapture"),g.captureAnimationState(),g!==h&&h.captureAnimationState()}function P(t){return k("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(g),g!==h&&(toggleClass(dragEl,putSortable?putSortable.options.ghostClass:c.options.ghostClass,!1),toggleClass(dragEl,a.ghostClass,!0)),putSortable!==g&&g!==Sortable.active?putSortable=g:g===Sortable.active&&putSortable&&(putSortable=null),h===g&&(g._ignoreWhileAnimating=l),g.animateAll((function(){k("dragOverAnimationComplete"),g._ignoreWhileAnimating=null})),g!==h&&(h.animateAll(),
h._ignoreWhileAnimating=null)),(l===dragEl&&!dragEl.animated||l===i&&!l.animated)&&(lastTarget=null),a.dragoverBubble||e.rootEl||l===document||(dragEl.parentNode[expando]._isOutsideThisEl(e.target),!t&&nearestEmptyInsertDetectEvent(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function R(){newIndex=index(dragEl),newDraggableIndex=index(dragEl,a.draggable),_dispatchEvent({sortable:g,name:"change",toEl:i,newIndex:newIndex,newDraggableIndex:newDraggableIndex,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){off(document,"mousemove",this._onTouchMove),off(document,"touchmove",this._onTouchMove),off(document,"pointermove",this._onTouchMove),off(document,"dragover",nearestEmptyInsertDetectEvent),off(document,"mousemove",nearestEmptyInsertDetectEvent),off(document,"touchmove",nearestEmptyInsertDetectEvent)},_offUpEvents:function(){var e=this.el.ownerDocument;off(e,"mouseup",this._onDrop),off(e,"touchend",this._onDrop),off(e,"pointerup",this._onDrop),off(e,"touchcancel",this._onDrop),off(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;newIndex=index(dragEl),newDraggableIndex=index(dragEl,n.draggable),pluginEvent("drop",this,{evt:e}),parentEl=dragEl&&dragEl.parentNode,newIndex=index(dragEl),newDraggableIndex=index(dragEl,n.draggable),Sortable.eventCanceled||(awaitingDragStarted=!1,isCircumstantialInvert=!1,pastFirstInvertThresh=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(document,"drop",this),off(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Safari&&css(document.body,"user-select",""),css(dragEl,"transform",""),e&&(moved&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ghostEl&&ghostEl.parentNode&&ghostEl.parentNode.removeChild(ghostEl),(rootEl===parentEl||putSortable&&"clone"!==putSortable.lastPutMode)&&cloneEl&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),dragEl&&(this.nativeDraggable&&off(dragEl,"dragend",this),_disableDraggable(dragEl),dragEl.style["will-change"]="",moved&&!awaitingDragStarted&&toggleClass(dragEl,putSortable?putSortable.options.ghostClass:this.options.ghostClass,!1),toggleClass(dragEl,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:parentEl,newIndex:null,newDraggableIndex:null,originalEvent:e}),rootEl!==parentEl?(newIndex>=0&&(_dispatchEvent({rootEl:parentEl,name:"add",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"remove",toEl:parentEl,originalEvent:e}),_dispatchEvent({rootEl:parentEl,name:"sort",toEl:parentEl,fromEl:rootEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),putSortable&&putSortable.save()):newIndex!==oldIndex&&newIndex>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:parentEl,originalEvent:e}),_dispatchEvent({sortable:this,name:"sort",toEl:parentEl,originalEvent:e})),Sortable.active&&(null!=newIndex&&-1!==newIndex||(newIndex=oldIndex,newDraggableIndex=oldDraggableIndex),_dispatchEvent({sortable:this,name:"end",toEl:parentEl,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){pluginEvent("nulling",this),rootEl=dragEl=parentEl=ghostEl=nextEl=cloneEl=lastDownEl=cloneHidden=tapEvt=touchEvt=moved=newIndex=newDraggableIndex=oldIndex=oldDraggableIndex=lastTarget=lastDirection=putSortable=activeGroup=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,savedInputChecked.forEach((function(e){e.checked=!0})),savedInputChecked.length=lastDx=lastDy=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":dragEl&&(this._onDragOver(e),_globalDragOver(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,r=n.length,i=this.options;o<r;o++)closest(e=n[o],i.draggable,this.el,!1)&&t.push(e.getAttribute(i.dataIdAttr)||_generateId(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var r=o.children[t];closest(r,this.options.draggable,o,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return closest(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=PluginManager.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&_prepareGroup(n)},destroy:function(){pluginEvent("destroy",this);var e=this.el;e[expando]=null,off(e,"mousedown",this._onTapStart),off(e,"touchstart",this._onTapStart),off(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(e,"dragover",this),off(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),sortables.splice(sortables.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!cloneHidden){if(pluginEvent("hideClone",this),Sortable.eventCanceled)return;css(cloneEl,"display","none"),this.options.removeCloneOnHide&&cloneEl.parentNode&&cloneEl.parentNode.removeChild(cloneEl),cloneHidden=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(cloneHidden){if(pluginEvent("showClone",this),Sortable.eventCanceled)return;dragEl.parentNode!=rootEl||this.options.group.revertClone?nextEl?rootEl.insertBefore(cloneEl,nextEl):rootEl.appendChild(cloneEl):rootEl.insertBefore(cloneEl,dragEl),this.options.group.revertClone&&this.animate(dragEl,cloneEl),css(cloneEl,"display",""),cloneHidden=!1}}else this._hideClone()}},documentExists&&on(document,"touchmove",(function(e){(Sortable.active||awaitingDragStarted)&&e.cancelable&&e.preventDefault()})),Sortable.utils={on:on,off:off,css:css,find:find,is:function(e,t){return!!closest(e,t,e,!1)},extend:extend,throttle:throttle,closest:closest,toggleClass:toggleClass,clone:clone,index:index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:_detectDirection,getChild:getChild},Sortable.get=function(e){return e[expando]},Sortable.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Sortable.utils=_objectSpread2(_objectSpread2({},Sortable.utils),e.utils)),PluginManager.mount(e)}))},Sortable.create=function(e,t){return new Sortable(e,t)},Sortable.version=version;var scrollEl,scrollRootEl,lastAutoScrollX,lastAutoScrollY,touchEvt$1,pointerElemChangedInterval,autoScrolls=[],scrolling=!1;function AutoScrollPlugin(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?on(document,"dragover",this._handleAutoScroll):this.options.supportPointer?on(document,"pointermove",this._handleFallbackAutoScroll):t.touches?on(document,"touchmove",this._handleFallbackAutoScroll):on(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?off(document,"dragover",this._handleAutoScroll):(off(document,"pointermove",this._handleFallbackAutoScroll),off(document,"touchmove",this._handleFallbackAutoScroll),off(document,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),cancelThrottle()},nulling:function(){touchEvt$1=scrollRootEl=scrollEl=scrolling=pointerElemChangedInterval=lastAutoScrollX=lastAutoScrollY=null,autoScrolls.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(o,r);if(touchEvt$1=e,t||this.options.forceAutoScrollFallback||Edge||IE11OrLess||Safari){autoScroll(e,this.options,i,t);var l=getParentAutoScrollElement(i,!0);!scrolling||pointerElemChangedInterval&&o===lastAutoScrollX&&r===lastAutoScrollY||(pointerElemChangedInterval&&clearPointerElemChangedInterval(),pointerElemChangedInterval=setInterval((function(){var i=getParentAutoScrollElement(document.elementFromPoint(o,r),!0);i!==l&&(l=i,clearAutoScrolls()),autoScroll(e,n.options,i,t)}),10),lastAutoScrollX=o,lastAutoScrollY=r)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(i,!0)===getWindowScrollingElement())return void clearAutoScrolls();autoScroll(e,this.options,getParentAutoScrollElement(i,!1),!1)}}},_extends(e,{pluginName:"scroll",initializeByDefault:!0})}function clearAutoScrolls(){autoScrolls.forEach((function(e){clearInterval(e.pid)})),autoScrolls=[]}function clearPointerElemChangedInterval(){clearInterval(pointerElemChangedInterval)}var autoScroll=throttle((function(e,t,n,o){if(t.scroll){var r,i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,c=getWindowScrollingElement(),u=!1;scrollRootEl!==n&&(scrollRootEl=n,clearAutoScrolls(),scrollEl=t.scroll,r=t.scrollFn,!0===scrollEl&&(scrollEl=getParentAutoScrollElement(n,!0)));var d=0,h=scrollEl;do{var g=h,p=getRect(g),f=p.top,v=p.bottom,m=p.left,E=p.right,_=p.width,b=p.height,S=void 0,y=void 0,x=g.scrollWidth,w=g.scrollHeight,I=css(g),C=g.scrollLeft,T=g.scrollTop;g===c?(S=_<x&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),y=b<w&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(S=_<x&&("auto"===I.overflowX||"scroll"===I.overflowX),y=b<w&&("auto"===I.overflowY||"scroll"===I.overflowY));var D=S&&(Math.abs(E-i)<=a&&C+_<x)-(Math.abs(m-i)<=a&&!!C),k=y&&(Math.abs(v-l)<=a&&T+b<w)-(Math.abs(f-l)<=a&&!!T);if(!autoScrolls[d])for(var A=0;A<=d;A++)autoScrolls[A]||(autoScrolls[A]={});autoScrolls[d].vx==D&&autoScrolls[d].vy==k&&autoScrolls[d].el===g||(autoScrolls[d].el=g,autoScrolls[d].vx=D,autoScrolls[d].vy=k,clearInterval(autoScrolls[d].pid),0==D&&0==k||(u=!0,autoScrolls[d].pid=setInterval(function(){o&&0===this.layer&&Sortable.active._onTouchMove(touchEvt$1);var t=autoScrolls[this.layer].vy?autoScrolls[this.layer].vy*s:0,n=autoScrolls[this.layer].vx?autoScrolls[this.layer].vx*s:0;"function"==typeof r&&"continue"!==r.call(Sortable.dragged.parentNode[expando],n,t,e,touchEvt$1,autoScrolls[this.layer].el)||scrollBy(autoScrolls[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=getParentAutoScrollElement(h,!1)));scrolling=u}}),30),drop=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,r=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var s=n||r;l();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),s&&!s.el.contains(u)&&(i("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Revert(){}function Remove(){}Revert.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=getChild(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:drop},_extends(Revert,{pluginName:"revertOnSpill"}),Remove.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:drop},_extends(Remove,{pluginName:"removeOnSpill"}),Sortable.mount(new AutoScrollPlugin),Sortable.mount(Remove,Revert);var colorPicker=new iro$1.ColorPicker("#color-picker",{width:300,color:"#f00"});function activateSortable(){document.querySelectorAll(".tasks-list").forEach((e=>{new Sortable(e,{animation:300,group:"task-list",store:{get:e=>{const t=localStorage.getItem(e.options.group.name);return t?t.split("|"):[]},set:e=>{const t=e.toArray();localStorage.setItem(e.options.group.name,t.join("|"))}}})}))}function getStatusFormData(e){createList(!0,new FormData(e).get("column_title"),colorPicker.color.hexString||"#222")}function createTask(e,t){let n=e||"Task title",o=t||"Task content",r=document.createElement("li");r.classList.add("task");let i=document.createElement("h3");i.classList.add("task--title"),i.contentEditable="true";let l=document.createTextNode(n);i.appendChild(l),r.appendChild(i);let a=document.createElement("div");a.classList.add("task--content"),a.contentEditable="true";let s=document.createTextNode(o);a.appendChild(s),r.appendChild(a);let c=document.createElement("div");return c.classList.add("btn-delete-task-wrap"),c.innerHTML='<button class="btn-action btn-delete-task"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0 0 114.6 0 256s114.6 256 256 256zm-72-280h144c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"/></svg></button>',r.appendChild(c),r}function createList(e,t,n){const o=document.querySelectorAll(".status-column").length,r=document.getElementById("board");let i=document.createElement("div");i.setAttribute("id","status_"+(o+1)),i.classList.add("status-column"),i.style.setProperty("--status-color",n);let l=document.createElement("div");l.classList.add("status-column--wrap"),i.appendChild(l);let a=document.createElement("header");a.classList.add("status-column--header");let s=document.createElement("span");s.classList.add("handle"),a.appendChild(s);let c=document.createElement("span");const u=document.createTextNode(t);c.appendChild(u),c.contentEditable="true",a.appendChild(c);let d=document.createElement("button");d.classList.add("btn-action","btn-edit-list"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg>',a.appendChild(d),l.appendChild(a);const h=document.createElement("ul");if(h.classList.add("tasks-list"),l.appendChild(h),1==e){let e=createTask("","");h.appendChild(e)}let g=document.createElement("footer");g.classList.add("status-column--footer"),l.appendChild(g);let p=document.createElement("div");p.classList.add("btn-wrap"),p.innerHTML='<button class="btn-action btn-add-task"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M432 256C432 264.8 424.8 272 416 272h-176V448c0 8.844-7.156 16.01-16 16.01S208 456.8 208 448V272H32c-8.844 0-16-7.15-16-15.99C16 247.2 23.16 240 32 240h176V64c0-8.844 7.156-15.99 16-15.99S240 55.16 240 64v176H416C424.8 240 432 247.2 432 256z"/></svg> Add task</button>',g.appendChild(p);let f=document.createElement("div");f.classList.add("btn-wrap"),f.innerHTML='<button class="btn-action btn-delete-list"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M432 64C440.8 64 448 71.16 448 80C448 88.84 440.8 96 432 96H413.7L388.2 452.6C385.9 486.1 357.1 512 324.4 512H123.6C90.01 512 62.15 486.1 59.75 452.6L34.29 96H16C7.164 96 0 88.84 0 80C0 71.16 7.164 64 16 64H111.1L137 22.56C145.8 8.526 161.2 0 177.7 0H270.3C286.8 0 302.2 8.526 310.1 22.56L336.9 64H432zM177.7 32C172.2 32 167.1 34.84 164.2 39.52L148.9 64H299.1L283.8 39.52C280.9 34.84 275.8 32 270.3 32H177.7zM381.6 96H66.37L91.67 450.3C92.87 467 106.8 480 123.6 480H324.4C341.2 480 355.1 467 356.3 450.3L381.6 96z"/></svg> Delete category</button>',g.appendChild(f),r.appendChild(i),new Sortable(r,{animation:300,handle:".handle",group:"task-list"}),deleteTask()}function deleteList(){document.querySelectorAll(".btn-delete-list").forEach((function(e){e.addEventListener("click",(function(t){let n=e.closest(".status-column");1==confirm("Are you sure you want to delete this category?")&&n.remove()}))}))}function deleteTask(){document.querySelectorAll(".btn-delete-task").forEach((function(e){e.addEventListener("click",(function(){let t=e.closest(".task");if(t){confirm("Are you sure you want to delete this task?")&&t.remove()}}))}))}document.getElementById("form--add-list").addEventListener("submit",(e=>{e.preventDefault(),getStatusFormData(e.target),document.body.classList.remove("show-modal")})),document.addEventListener("click",(e=>{if(e.target.classList.contains("btn-add-task")){const t=e.target.parentNode.parentNode.previousSibling,n=createTask("","");t.appendChild(n)}}));const addListButton=document.querySelector("#add-list"),closeModalButton=document.querySelector("#close-modal");function openModal(){document.body.classList.add("show-modal")}function closeModal(){document.body.classList.remove("show-modal")}function createLists_localStorage(){let e=[];const t=document.querySelectorAll(".status-column");for(let o of t){let t=o.id,r=document.getElementById(t),i=r.getElementsByTagName("header")[0].innerText;var n=getComputedStyle(r).getPropertyValue("--status-color");let l=o.querySelectorAll(".task");const a=[];let s=1;for(let e of l){let t=e.getElementsByClassName("task--title")[0].innerHTML,n=e.getElementsByClassName("task--content")[0].innerHTML;a.push({id:s,task_title:t,task_content:n}),s++}e.push({name:i,color:n,tasks:a})}if(e.length){let t=JSON.stringify(e);localStorage.setItem("tasks",t)}}function populateTasks(){const e=localStorage.getItem("tasks");let t=JSON.parse(e),n=0;for(let e of t){let t=e.name,r=e.color,i=e.tasks;createList(!1,t,r);var o=document.getElementsByClassName("tasks-list");for(let e of i){let t=createTask(e.task_title,e.task_content);o[n].appendChild(t)}n++}deleteList(),activateSortable()}addListButton.addEventListener("click",openModal),closeModalButton.addEventListener("click",closeModal),document.querySelector(".underlay").addEventListener("click",(e=>{document.body.classList.remove("show-modal")})),setInterval((function(){createLists_localStorage()}),5e3),populateTasks();